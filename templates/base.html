<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8NE1H2V6SH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-8NE1H2V6SH');
    </script>

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-WN9S28RW');</script>

    <meta name="google-site-verification" content="aGMTsvUStNIejr6z4Ew8Mdme0SpSLKKjPE9uNbrKQzE" />

    <meta name="description" content={{ _("UCLatence Down Detector - Real-time outage reports for UCLouvain services. Check if moodle, intranet, your mail are down. Report the status of a website easily and see past outages") }}>
    <meta name="keywords" content={{ _("UCLatence, monitoring, outage, status, university services, downtime, downdetector, students") }}>
    <meta name="author" content={{ _("EPL Students") }}>
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">

    {% block card %}
    <meta property="og:title" content={{ _("UCLatence Down Detector") }}>
    <meta property="og:description" content={{ _("Real-time outage reports for UCLatence services") }}>
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.UCLatence-down.be">
    <meta property="og:image" content="{{ url_for('static', filename='ico/icoDOWN.png') }}">
    {% endblock %}

    {% block head %}
    <title>UCLatence Down</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='ico/icoDOWN.png') }}">

    {% endblock %}

    <!-- Tailwind first -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Your custom CSS overrides -->
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen">

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WN9S28RW"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <!-- NAVBAR -->
    <header class="bg-white shadow-md">
        <div class="max-w-7xl mx-auto flex justify-between items-center px-4 py-3 md:py-4">
            <!-- Logo -->
            <a href="/" class="text-xl font-bold text-blue-700">UCLatence</a>

            <!-- Desktop Menu -->
            <nav class="hidden md:flex space-x-6">
                <a href="/" class="hover:text-blue-600 font-medium">{{ _("Home") }}</a>
                <a href="/serviceList" class="hover:text-blue-600 font-medium">{{ _("ServiceList") }}</a>
                <a href="/request" class="hover:text-blue-600 font-medium">{{ _("Request Service") }}</a>
                <a href="/info" class="hover:text-blue-600 font-medium">Info</a>
                <a href="/api/docs" class="hover:text-blue-600 font-medium">API</a>
            </nav>

            <!-- Right Controls -->
            <div class="flex items-center space-x-4">
                <select name="Language" id="language-select" class="border rounded px-2 py-1 text-sm">
                    {% for lang in ["en", "fr"] %}
                        <option value="{{ lang }}" {% if lang == get_locale %}selected{% endif %}>{{ lang }}</option>
                    {% endfor %}
                </select>
                <a href="https://github.com/Tfloow/UCLouvainDown" class="hover:text-blue-600 font-medium">Github</a>

                <!-- Mobile Menu Button -->
                <button onclick="document.getElementById('mobile-menu').classList.toggle('hidden')" class="md:hidden">
                    <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" stroke-width="2"
                        viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-gray-100 border-t">
            <nav class="flex flex-col space-y-2 p-4">
                <a href="/" class="hover:text-blue-600">{{ _("Home") }}</a>
                <a href="/serviceList" class="hover:text-blue-600">{{ _("ServiceList") }}</a>
                <a href="/request" class="hover:text-blue-600">{{ _("Request Service") }}</a>
                <a href="/info" class="hover:text-blue-600">Info</a>
                <a href="/api/docs" class="hover:text-blue-600">API</a>
            </nav>
        </div>
    </header>

    <!-- CONTENT -->
    <main class="flex-grow max-w-7xl mx-auto px-4 py-8">
        {% block content %}
        {% endblock %}
    </main>

    <!-- FOOTER -->
    <footer class="bg-gray-800 text-gray-300 py-6 mt-10">
        <div class="max-w-7xl mx-auto text-center space-x-4">
            <a href="https://github.com/Tfloow/UCLouvainDown" class="hover:text-white">Github</a>
            <a href="https://github.com/Tfloow/UCLouvainDown/issues" class="hover:text-white">{{ _("Issue or Request ?") }}</a>
            <a href="https://github.com/Tfloow/UCLouvainDown#introduction" class="hover:text-white">{{ _("What is this ?") }}</a>
            <a href="/info" class="hover:text-white">Info</a>
        </div>
    </footer>

    {% block script %}{% endblock %}
</body>
</html>
